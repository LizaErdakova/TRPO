{"ast":null,"code":"import _objectSpread from \"D:/trpo backup/trpo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"D:/trpo backup/trpo/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/trpo backup/trpo/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"D:/trpo backup/trpo/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'WaterTrackerPage',\n  data: function data() {\n    return {\n      selectedDate: new Date().toISOString().split('T')[0],\n      // Текущая дата в формате YYYY-MM-DD\n      waterAmount: 0,\n      // Выпито воды в мл\n      waterNorm: 2000,\n      // Норма воды в мл (будет рассчитана динамически)\n      percentCompleted: 0,\n      // Процент выполнения дневной нормы\n      customAmount: 250,\n      // Пользовательский объем добавляемой воды\n      removeAmount: 100,\n      // Пользовательский объем удаляемой воды\n      loading: false,\n      waterHistory: [] // История потребления воды\n    };\n  },\n  computed: {\n    remainingAmount: function remainingAmount() {\n      var remaining = this.waterNorm - this.waterAmount;\n      return remaining > 0 ? remaining : 0;\n    },\n    // Вычисляемое свойство для отображения истории с выбранной датой по центру\n    displayedHistory: function displayedHistory() {\n      var _this = this;\n      if (!this.waterHistory || this.waterHistory.length === 0) {\n        return this.createEmptyHistory();\n      }\n\n      // Создаем массив дат для отображения (3 до, 1 текущая, 3 после)\n      var dates = [];\n      var today = new Date(this.selectedDate);\n\n      // Добавляем 3 даты до выбранной\n      for (var i = 3; i > 0; i--) {\n        var date = new Date(today);\n        date.setDate(date.getDate() - i);\n        dates.push(date.toISOString().split('T')[0]);\n      }\n\n      // Добавляем выбранную дату\n      dates.push(this.selectedDate);\n\n      // Добавляем 3 даты после выбранной\n      for (var _i = 1; _i <= 3; _i++) {\n        var _date = new Date(today);\n        _date.setDate(_date.getDate() + _i);\n        dates.push(_date.toISOString().split('T')[0]);\n      }\n\n      // Определяем максимальное значение для нормализации высоты\n      var maxAmountInHistory = Math.max.apply(Math, [this.waterNorm].concat(_toConsumableArray(this.waterHistory.map(function (e) {\n        return e.amount || 0;\n      })), [this.waterAmount]));\n\n      // Преобразуем даты в объекты записей\n      var result = dates.map(function (date) {\n        // Для текущей даты используем актуальные значения из состояния компонента\n        if (date === _this.selectedDate) {\n          // Процент заполнения зависит от нормы или максимального значения\n          var visualPercent = _this.waterAmount > 0 ? Math.max(Math.min(100, _this.waterAmount / maxAmountInHistory * 100), 15) : 15;\n          return {\n            date: _this.selectedDate,\n            amount: _this.waterAmount,\n            percentCompleted: visualPercent,\n            isVirtual: false\n          };\n        }\n\n        // Для других дат ищем записи в истории\n        var historyEntry = _this.waterHistory.find(function (entry) {\n          // Нормализуем обе даты для сравнения\n          var entryDate = new Date(entry.date).toISOString().split('T')[0];\n          var targetDate = new Date(date).toISOString().split('T')[0];\n          return entryDate === targetDate;\n        });\n        if (historyEntry) {\n          // Визуальный уровень заполнения относительно максимального значения\n          var _visualPercent = historyEntry.amount > 0 ? Math.max(Math.min(100, historyEntry.amount / maxAmountInHistory * 100), 15) : 15;\n          return {\n            date: historyEntry.date,\n            amount: historyEntry.amount,\n            percentCompleted: _visualPercent,\n            isVirtual: false\n          };\n        }\n\n        // Для дат без записей создаем пустые записи с минимальным отображением воды\n        return {\n          date: date,\n          amount: 0,\n          percentCompleted: 15,\n          // Минимальное отображение воды (15%)\n          isVirtual: true\n        };\n      });\n      return result;\n    },\n    // Добавим метод для создания пустой истории\n    createEmptyHistory: function createEmptyHistory() {\n      var _this2 = this;\n      var dates = [];\n      var today = new Date(this.selectedDate);\n\n      // Добавляем 3 даты до выбранной\n      for (var i = 3; i > 0; i--) {\n        var date = new Date(today);\n        date.setDate(date.getDate() - i);\n        dates.push(date.toISOString().split('T')[0]);\n      }\n\n      // Добавляем выбранную дату\n      dates.push(this.selectedDate);\n\n      // Добавляем 3 даты после выбранной\n      for (var _i2 = 1; _i2 <= 3; _i2++) {\n        var _date2 = new Date(today);\n        _date2.setDate(_date2.getDate() + _i2);\n        dates.push(_date2.toISOString().split('T')[0]);\n      }\n      return dates.map(function (date) {\n        return {\n          date: date,\n          amount: date === _this2.selectedDate ? _this2.waterAmount : 0,\n          percentCompleted: date === _this2.selectedDate ? Math.max(_this2.percentCompleted, 15) : 15,\n          // Минимум 15%\n          isVirtual: true\n        };\n      });\n    }\n  },\n  created: function created() {\n    // Загружаем данные о воде при создании компонента\n    this.loadWaterStatus();\n\n    // Загружаем историю потребления воды\n    this.loadWaterHistory();\n  },\n  methods: {\n    // Загрузка статуса потребления воды за выбранную дату\n    loadWaterStatus: function loadWaterStatus() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this3.loading = true;\n              _context.prev = 1;\n              token = localStorage.getItem('token');\n              if (token) {\n                _context.next = 6;\n                break;\n              }\n              ElMessage.warning('Необходимо авторизоваться для доступа к трекеру воды');\n              return _context.abrupt(\"return\");\n            case 6:\n              _context.next = 8;\n              return axios.get('http://localhost:3000/api/water/status', {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                },\n                params: {\n                  date: _this3.selectedDate\n                }\n              });\n            case 8:\n              response = _context.sent;\n              _this3.waterAmount = response.data.amount;\n              _this3.waterNorm = response.data.norm;\n              _this3.percentCompleted = response.data.percentCompleted;\n              _context.next = 18;\n              break;\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](1);\n              console.error('Ошибка при загрузке данных о потреблении воды:', _context.t0);\n              ElMessage.error('Не удалось загрузить данные о потреблении воды');\n            case 18:\n              _context.prev = 18;\n              _this3.loading = false;\n              return _context.finish(18);\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 14, 18, 21]]);\n      }))();\n    },\n    // Загрузка истории потребления воды при смене даты и первоначально\n    loadWaterHistory: function loadWaterHistory() {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var token, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              token = localStorage.getItem('token');\n              if (token) {\n                _context2.next = 4;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 4:\n              _context2.next = 6;\n              return axios.get('http://localhost:3000/api/water/history', {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 6:\n              response = _context2.sent;\n              if (!(!response.data.history || !Array.isArray(response.data.history))) {\n                _context2.next = 10;\n                break;\n              }\n              _this4.waterHistory = [];\n              return _context2.abrupt(\"return\");\n            case 10:\n              // Сортируем историю по дате (от ранних к поздним)\n              _this4.waterHistory = response.data.history.filter(function (entry) {\n                return entry && entry.date;\n              }) // Отфильтровываем некорректные записи\n              .sort(function (a, b) {\n                return new Date(a.date) - new Date(b.date);\n              }).map(function (entry) {\n                // Нормализуем формат даты для корректного сравнения\n                var normalizedDate = new Date(entry.date).toISOString().split('T')[0];\n                return _objectSpread(_objectSpread({}, entry), {}, {\n                  date: normalizedDate,\n                  // Используем нормализованную дату\n                  // Обеспечиваем корректные значения для отображения\n                  percentCompleted: Math.max(entry.percentCompleted || 0, 15),\n                  amount: entry.amount || 0 // Убедимся, что amount всегда определен\n                });\n              });\n              _context2.next = 17;\n              break;\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Ошибка при загрузке истории потребления воды:', _context2.t0);\n              // В случае ошибки используем пустой массив\n              _this4.waterHistory = [];\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 13]]);\n      }))();\n    },\n    // Добавление записи о выпитой воде\n    addWater: function addWater(amount) {\n      var _this5 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var token, response, waterData;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(!amount || amount <= 0)) {\n                _context3.next = 3;\n                break;\n              }\n              ElMessage.warning('Укажите корректное количество воды');\n              return _context3.abrupt(\"return\");\n            case 3:\n              _this5.loading = true;\n              _context3.prev = 4;\n              token = localStorage.getItem('token');\n              if (token) {\n                _context3.next = 9;\n                break;\n              }\n              ElMessage.warning('Необходимо авторизоваться для добавления записи о воде');\n              return _context3.abrupt(\"return\");\n            case 9:\n              _context3.next = 11;\n              return axios.post('http://localhost:3000/api/water/track', {\n                amount: amount,\n                date: _this5.selectedDate\n              }, {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 11:\n              response = _context3.sent;\n              // Обновляем данные из ответа\n              waterData = response.data.water;\n              _this5.waterAmount = waterData.amount;\n              _this5.waterNorm = waterData.norm;\n              _this5.percentCompleted = waterData.percentCompleted;\n\n              // Показываем сообщение об успехе\n              ElMessage.success(\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u043E \".concat(amount, \" \\u043C\\u043B \\u0432\\u043E\\u0434\\u044B\"));\n\n              // Обновляем историю потребления\n              _this5.loadWaterHistory();\n              _context3.next = 24;\n              break;\n            case 20:\n              _context3.prev = 20;\n              _context3.t0 = _context3[\"catch\"](4);\n              console.error('Ошибка при добавлении записи о воде:', _context3.t0);\n              ElMessage.error('Не удалось добавить запись о воде');\n            case 24:\n              _context3.prev = 24;\n              _this5.loading = false;\n              return _context3.finish(24);\n            case 27:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[4, 20, 24, 27]]);\n      }))();\n    },\n    // Удаление записи о выпитой воде\n    removeWater: function removeWater(amount) {\n      var _this6 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var token, response, waterData;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(!amount || amount <= 0 || amount > _this6.waterAmount)) {\n                _context4.next = 3;\n                break;\n              }\n              ElMessage.warning('Укажите корректное количество воды для удаления');\n              return _context4.abrupt(\"return\");\n            case 3:\n              _this6.loading = true;\n              _context4.prev = 4;\n              token = localStorage.getItem('token');\n              if (token) {\n                _context4.next = 9;\n                break;\n              }\n              ElMessage.warning('Необходимо авторизоваться для удаления записи о воде');\n              return _context4.abrupt(\"return\");\n            case 9:\n              _context4.next = 11;\n              return axios[\"delete\"]('http://localhost:3000/api/water/remove', {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                },\n                data: {\n                  amount: amount,\n                  date: _this6.selectedDate\n                }\n              });\n            case 11:\n              response = _context4.sent;\n              // Обновляем данные из ответа\n              waterData = response.data.water;\n              _this6.waterAmount = waterData.amount;\n              _this6.waterNorm = waterData.norm;\n              _this6.percentCompleted = waterData.percentCompleted;\n\n              // Показываем сообщение об успехе\n              ElMessage.success(\"\\u0423\\u0434\\u0430\\u043B\\u0435\\u043D\\u043E \".concat(amount, \" \\u043C\\u043B \\u0432\\u043E\\u0434\\u044B\"));\n\n              // Обновляем историю потребления\n              _this6.loadWaterHistory();\n              _context4.next = 24;\n              break;\n            case 20:\n              _context4.prev = 20;\n              _context4.t0 = _context4[\"catch\"](4);\n              console.error('Ошибка при удалении записи о воде:', _context4.t0);\n              if (_context4.t0.response && _context4.t0.response.data) {\n                ElMessage.error(_context4.t0.response.data.message || 'Не удалось удалить запись о воде');\n              } else {\n                ElMessage.error('Не удалось удалить запись о воде');\n              }\n            case 24:\n              _context4.prev = 24;\n              _this6.loading = false;\n              return _context4.finish(24);\n            case 27:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[4, 20, 24, 27]]);\n      }))();\n    },\n    // Изменение выбранной даты\n    changeDate: function changeDate(days) {\n      var _this7 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var date;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              date = new Date(_this7.selectedDate);\n              date.setDate(date.getDate() + days);\n              _this7.selectedDate = date.toISOString().split('T')[0];\n              _context5.next = 5;\n              return _this7.loadWaterStatus();\n            case 5:\n              // Обновляем историю после смены даты\n              _this7.loadWaterHistory();\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5);\n      }))();\n    },\n    // Форматирование дня недели для истории потребления\n    formatDay: function formatDay(dateStr) {\n      try {\n        var date = new Date(dateStr);\n        var days = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];\n        var dayName = days[date.getDay()];\n        var dayNum = date.getDate();\n        return \"\".concat(dayName, \" \").concat(dayNum);\n      } catch (e) {\n        console.error('Ошибка форматирования даты:', e);\n        return dateStr;\n      }\n    },\n    // Форматирование количества воды в литрах\n    formatWaterAmount: function formatWaterAmount(amount) {\n      if (!amount || amount === 0) return '0 л';\n      return (Math.round(amount / 100) / 10).toFixed(1) + ' л';\n    }\n  }\n};","map":{"version":3,"names":["axios","ElMessage","name","data","selectedDate","Date","toISOString","split","waterAmount","waterNorm","percentCompleted","customAmount","removeAmount","loading","waterHistory","computed","remainingAmount","remaining","displayedHistory","_this","length","createEmptyHistory","dates","today","i","date","setDate","getDate","push","maxAmountInHistory","Math","max","apply","concat","_toConsumableArray","map","e","amount","result","visualPercent","min","isVirtual","historyEntry","find","entry","entryDate","targetDate","_this2","created","loadWaterStatus","loadWaterHistory","methods","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","warning","abrupt","get","headers","Authorization","params","sent","norm","t0","console","error","finish","stop","_this4","_callee2","_callee2$","_context2","history","Array","isArray","filter","sort","a","b","normalizedDate","_objectSpread","addWater","_this5","_callee3","waterData","_callee3$","_context3","post","water","success","removeWater","_this6","_callee4","_callee4$","_context4","message","changeDate","days","_this7","_callee5","_callee5$","_context5","formatDay","dateStr","dayName","getDay","dayNum","formatWaterAmount","round","toFixed"],"sources":["D:\\trpo backup\\trpo\\client\\src\\views\\WaterTracker.vue"],"sourcesContent":["<template>\r\n  <div class=\"water-tracker\">\r\n    <h1 class=\"text-2xl font-bold mb-6\" style=\"color: white;\">Трекер воды</h1>\r\n    \r\n    <!-- Карточка с отслеживанием воды -->\r\n    <div class=\"water-card\">\r\n      <div class=\"info-section\">\r\n        <div class=\"date-control\">\r\n          <el-button @click=\"changeDate(-1)\" icon=\"el-icon-arrow-left\" circle></el-button>\r\n          <el-date-picker\r\n            v-model=\"selectedDate\"\r\n            type=\"date\"\r\n            format=\"YYYY-MM-DD\"\r\n            value-format=\"YYYY-MM-DD\"\r\n            placeholder=\"Выберите дату\"\r\n            @change=\"loadWaterStatus\"\r\n          ></el-date-picker>\r\n          <el-button @click=\"changeDate(1)\" icon=\"el-icon-arrow-right\" circle></el-button>\r\n        </div>\r\n\r\n        <div class=\"water-info\">\r\n          <div class=\"water-stats\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-label\">Выпито</div>\r\n              <div class=\"stat-value\">{{ waterAmount }} мл</div>\r\n            </div>\r\n            <div class=\"stat-divider\"></div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-label\">Норма</div>\r\n              <div class=\"stat-value\">{{ waterNorm }} мл</div>\r\n            </div>\r\n            <div class=\"stat-divider\"></div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-label\">Осталось</div>\r\n              <div class=\"stat-value\">{{ remainingAmount }} мл</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"water-progress-container\">\r\n            <div class=\"water-graphic\">\r\n              <div class=\"water-level\" :style=\"{ height: `${percentCompleted}%` }\">\r\n                <div class=\"water-waves\"></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"progress-text\">{{ percentCompleted }}%</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"add-water-section\">\r\n        <h3 class=\"section-title\">Добавить воду</h3>\r\n        \r\n        <div class=\"quick-add-buttons\">\r\n          <el-button \r\n            v-for=\"amount in [100, 200, 300, 500]\" \r\n            :key=\"amount\"\r\n            class=\"quick-add-button\"\r\n            @click=\"addWater(amount)\"\r\n          >\r\n            +{{ amount }} мл\r\n          </el-button>\r\n        </div>\r\n        \r\n        <div class=\"custom-amount\">\r\n          <el-input-number\r\n            v-model=\"customAmount\"\r\n            :min=\"1\"\r\n            :max=\"5000\"\r\n            :step=\"50\"\r\n            placeholder=\"Введите объем\"\r\n          />\r\n          <el-button type=\"primary\" @click=\"addWater(customAmount)\">\r\n            Добавить воду\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Секция удаления воды -->\r\n      <div class=\"remove-water-section\" v-if=\"waterAmount > 0\">\r\n        <h3 class=\"section-title\">Удалить воду</h3>\r\n        \r\n        <div class=\"quick-remove-buttons\">\r\n          <el-button \r\n            v-for=\"amount in [100, 200, 300, 500]\" \r\n            :key=\"amount\"\r\n            class=\"quick-remove-button\"\r\n            @click=\"removeWater(amount)\"\r\n            :disabled=\"amount > waterAmount\"\r\n          >\r\n            -{{ amount }} мл\r\n          </el-button>\r\n        </div>\r\n        \r\n        <div class=\"custom-amount\">\r\n          <el-input-number\r\n            v-model=\"removeAmount\"\r\n            :min=\"1\"\r\n            :max=\"waterAmount\"\r\n            :step=\"50\"\r\n            placeholder=\"Введите объем\"\r\n          />\r\n          <el-button type=\"danger\" @click=\"removeWater(removeAmount)\" :disabled=\"!removeAmount || removeAmount <= 0\">\r\n            Удалить воду\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"water-history-section\" v-if=\"waterHistory.length > 0\">\r\n        <h3 class=\"section-title\">История потребления воды</h3>\r\n        <div class=\"history-chart\">\r\n          <div\r\n            v-for=\"(entry, index) in displayedHistory\"\r\n            :key=\"index\"\r\n            class=\"history-bar\"\r\n            :class=\"{ 'current-day': entry.date === selectedDate }\"\r\n          >\r\n            <div class=\"history-day\">{{ formatDay(entry.date) }}</div>\r\n            <div class=\"history-bar-container\">\r\n              <div \r\n                class=\"history-bar-fill\"\r\n                :style=\"{\r\n                  height: (entry.percentCompleted || 0) + '%'\r\n                }\"\r\n              >\r\n                <div class=\"water-waves-small\"></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"history-amount\" :class=\"{ 'zero-amount': !entry.amount }\">{{ formatWaterAmount(entry.amount) }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"water-tips\">\r\n      <h3 class=\"tips-title\">Советы для достаточного потребления воды:</h3>\r\n      <ul class=\"tips-list\">\r\n        <li>Начинайте день со стакана воды</li>\r\n        <li>Установите регулярные напоминания</li>\r\n        <li>Носите с собой многоразовую бутылку</li>\r\n        <li>Пейте стакан воды за 30 минут до еды</li>\r\n        <li>Добавляйте в воду ломтики фруктов для вкуса</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ElMessage } from 'element-plus';\r\n\r\nexport default {\r\n  name: 'WaterTrackerPage',\r\n  data() {\r\n    return {\r\n      selectedDate: new Date().toISOString().split('T')[0], // Текущая дата в формате YYYY-MM-DD\r\n      waterAmount: 0, // Выпито воды в мл\r\n      waterNorm: 2000, // Норма воды в мл (будет рассчитана динамически)\r\n      percentCompleted: 0, // Процент выполнения дневной нормы\r\n      customAmount: 250, // Пользовательский объем добавляемой воды\r\n      removeAmount: 100, // Пользовательский объем удаляемой воды\r\n      loading: false,\r\n      waterHistory: [] // История потребления воды\r\n    };\r\n  },\r\n  computed: {\r\n    remainingAmount() {\r\n      const remaining = this.waterNorm - this.waterAmount;\r\n      return remaining > 0 ? remaining : 0;\r\n    },\r\n    \r\n    // Вычисляемое свойство для отображения истории с выбранной датой по центру\r\n    displayedHistory() {\r\n      if (!this.waterHistory || this.waterHistory.length === 0) {\r\n        return this.createEmptyHistory();\r\n      }\r\n      \r\n      // Создаем массив дат для отображения (3 до, 1 текущая, 3 после)\r\n      const dates = [];\r\n      const today = new Date(this.selectedDate);\r\n      \r\n      // Добавляем 3 даты до выбранной\r\n      for (let i = 3; i > 0; i--) {\r\n        const date = new Date(today);\r\n        date.setDate(date.getDate() - i);\r\n        dates.push(date.toISOString().split('T')[0]);\r\n      }\r\n      \r\n      // Добавляем выбранную дату\r\n      dates.push(this.selectedDate);\r\n      \r\n      // Добавляем 3 даты после выбранной\r\n      for (let i = 1; i <= 3; i++) {\r\n        const date = new Date(today);\r\n        date.setDate(date.getDate() + i);\r\n        dates.push(date.toISOString().split('T')[0]);\r\n      }\r\n      \r\n      // Определяем максимальное значение для нормализации высоты\r\n      const maxAmountInHistory = Math.max(\r\n        this.waterNorm,\r\n        ...this.waterHistory.map(e => e.amount || 0),\r\n        this.waterAmount\r\n      );\r\n      \r\n      // Преобразуем даты в объекты записей\r\n      const result = dates.map(date => {\r\n        // Для текущей даты используем актуальные значения из состояния компонента\r\n        if (date === this.selectedDate) {\r\n          // Процент заполнения зависит от нормы или максимального значения\r\n          const visualPercent = this.waterAmount > 0 \r\n            ? Math.max(Math.min(100, (this.waterAmount / maxAmountInHistory) * 100), 15) \r\n            : 15;\r\n            \r\n          return {\r\n            date: this.selectedDate,\r\n            amount: this.waterAmount,\r\n            percentCompleted: visualPercent,\r\n            isVirtual: false\r\n          };\r\n        }\r\n        \r\n        // Для других дат ищем записи в истории\r\n        const historyEntry = this.waterHistory.find(entry => {\r\n          // Нормализуем обе даты для сравнения\r\n          const entryDate = new Date(entry.date).toISOString().split('T')[0];\r\n          const targetDate = new Date(date).toISOString().split('T')[0];\r\n          return entryDate === targetDate;\r\n        });\r\n        \r\n        if (historyEntry) {\r\n          // Визуальный уровень заполнения относительно максимального значения\r\n          const visualPercent = historyEntry.amount > 0 \r\n            ? Math.max(Math.min(100, (historyEntry.amount / maxAmountInHistory) * 100), 15)\r\n            : 15;\r\n          \r\n          return {\r\n            date: historyEntry.date,\r\n            amount: historyEntry.amount,\r\n            percentCompleted: visualPercent,\r\n            isVirtual: false\r\n          };\r\n        }\r\n        \r\n        // Для дат без записей создаем пустые записи с минимальным отображением воды\r\n        return {\r\n          date,\r\n          amount: 0,\r\n          percentCompleted: 15, // Минимальное отображение воды (15%)\r\n          isVirtual: true\r\n        };\r\n      });\r\n      \r\n      return result;\r\n    },\r\n    // Добавим метод для создания пустой истории\r\n    createEmptyHistory() {\r\n      const dates = [];\r\n      const today = new Date(this.selectedDate);\r\n      \r\n      // Добавляем 3 даты до выбранной\r\n      for (let i = 3; i > 0; i--) {\r\n        const date = new Date(today);\r\n        date.setDate(date.getDate() - i);\r\n        dates.push(date.toISOString().split('T')[0]);\r\n      }\r\n      \r\n      // Добавляем выбранную дату\r\n      dates.push(this.selectedDate);\r\n      \r\n      // Добавляем 3 даты после выбранной\r\n      for (let i = 1; i <= 3; i++) {\r\n        const date = new Date(today);\r\n        date.setDate(date.getDate() + i);\r\n        dates.push(date.toISOString().split('T')[0]);\r\n      }\r\n      \r\n      return dates.map(date => ({\r\n        date,\r\n        amount: date === this.selectedDate ? this.waterAmount : 0,\r\n        percentCompleted: date === this.selectedDate ? Math.max(this.percentCompleted, 15) : 15, // Минимум 15%\r\n        isVirtual: true\r\n      }));\r\n    }\r\n  },\r\n  created() {\r\n    // Загружаем данные о воде при создании компонента\r\n    this.loadWaterStatus();\r\n    \r\n    // Загружаем историю потребления воды\r\n    this.loadWaterHistory();\r\n  },\r\n  methods: {\r\n    // Загрузка статуса потребления воды за выбранную дату\r\n    async loadWaterStatus() {\r\n      this.loading = true;\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          ElMessage.warning('Необходимо авторизоваться для доступа к трекеру воды');\r\n          return;\r\n        }\r\n        \r\n        const response = await axios.get('http://localhost:3000/api/water/status', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          params: { date: this.selectedDate }\r\n        });\r\n        \r\n        this.waterAmount = response.data.amount;\r\n        this.waterNorm = response.data.norm;\r\n        this.percentCompleted = response.data.percentCompleted;\r\n      } catch (error) {\r\n        console.error('Ошибка при загрузке данных о потреблении воды:', error);\r\n        ElMessage.error('Не удалось загрузить данные о потреблении воды');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // Загрузка истории потребления воды при смене даты и первоначально\r\n    async loadWaterHistory() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) return;\r\n        \r\n        const response = await axios.get('http://localhost:3000/api/water/history', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        \r\n        // Если ответ не содержит историю, используем пустой массив\r\n        if (!response.data.history || !Array.isArray(response.data.history)) {\r\n          this.waterHistory = [];\r\n          return;\r\n        }\r\n        \r\n        // Сортируем историю по дате (от ранних к поздним)\r\n        this.waterHistory = response.data.history\r\n          .filter(entry => entry && entry.date) // Отфильтровываем некорректные записи\r\n          .sort((a, b) => {\r\n            return new Date(a.date) - new Date(b.date);\r\n          })\r\n          .map(entry => {\r\n            // Нормализуем формат даты для корректного сравнения\r\n            const normalizedDate = new Date(entry.date).toISOString().split('T')[0];\r\n            \r\n            return {\r\n              ...entry,\r\n              date: normalizedDate, // Используем нормализованную дату\r\n              // Обеспечиваем корректные значения для отображения\r\n              percentCompleted: Math.max(entry.percentCompleted || 0, 15),\r\n              amount: entry.amount || 0 // Убедимся, что amount всегда определен\r\n            };\r\n          });\r\n      } catch (error) {\r\n        console.error('Ошибка при загрузке истории потребления воды:', error);\r\n        // В случае ошибки используем пустой массив\r\n        this.waterHistory = [];\r\n      }\r\n    },\r\n    \r\n    // Добавление записи о выпитой воде\r\n    async addWater(amount) {\r\n      if (!amount || amount <= 0) {\r\n        ElMessage.warning('Укажите корректное количество воды');\r\n        return;\r\n      }\r\n      \r\n      this.loading = true;\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          ElMessage.warning('Необходимо авторизоваться для добавления записи о воде');\r\n          return;\r\n        }\r\n        \r\n        const response = await axios.post('http://localhost:3000/api/water/track', {\r\n          amount,\r\n          date: this.selectedDate\r\n        }, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        \r\n        // Обновляем данные из ответа\r\n        const waterData = response.data.water;\r\n        this.waterAmount = waterData.amount;\r\n        this.waterNorm = waterData.norm;\r\n        this.percentCompleted = waterData.percentCompleted;\r\n        \r\n        // Показываем сообщение об успехе\r\n        ElMessage.success(`Добавлено ${amount} мл воды`);\r\n        \r\n        // Обновляем историю потребления\r\n        this.loadWaterHistory();\r\n      } catch (error) {\r\n        console.error('Ошибка при добавлении записи о воде:', error);\r\n        ElMessage.error('Не удалось добавить запись о воде');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // Удаление записи о выпитой воде\r\n    async removeWater(amount) {\r\n      if (!amount || amount <= 0 || amount > this.waterAmount) {\r\n        ElMessage.warning('Укажите корректное количество воды для удаления');\r\n        return;\r\n      }\r\n      \r\n      this.loading = true;\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          ElMessage.warning('Необходимо авторизоваться для удаления записи о воде');\r\n          return;\r\n        }\r\n        \r\n        const response = await axios.delete('http://localhost:3000/api/water/remove', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          data: {\r\n            amount,\r\n            date: this.selectedDate\r\n          }\r\n        });\r\n        \r\n        // Обновляем данные из ответа\r\n        const waterData = response.data.water;\r\n        this.waterAmount = waterData.amount;\r\n        this.waterNorm = waterData.norm;\r\n        this.percentCompleted = waterData.percentCompleted;\r\n        \r\n        // Показываем сообщение об успехе\r\n        ElMessage.success(`Удалено ${amount} мл воды`);\r\n        \r\n        // Обновляем историю потребления\r\n        this.loadWaterHistory();\r\n      } catch (error) {\r\n        console.error('Ошибка при удалении записи о воде:', error);\r\n        if (error.response && error.response.data) {\r\n          ElMessage.error(error.response.data.message || 'Не удалось удалить запись о воде');\r\n        } else {\r\n          ElMessage.error('Не удалось удалить запись о воде');\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // Изменение выбранной даты\r\n    async changeDate(days) {\r\n      const date = new Date(this.selectedDate);\r\n      date.setDate(date.getDate() + days);\r\n      this.selectedDate = date.toISOString().split('T')[0];\r\n      await this.loadWaterStatus();\r\n      // Обновляем историю после смены даты\r\n      this.loadWaterHistory();\r\n    },\r\n    \r\n    // Форматирование дня недели для истории потребления\r\n    formatDay(dateStr) {\r\n      try {\r\n        const date = new Date(dateStr);\r\n        const days = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];\r\n        const dayName = days[date.getDay()];\r\n        const dayNum = date.getDate();\r\n        \r\n        return `${dayName} ${dayNum}`;\r\n      } catch (e) {\r\n        console.error('Ошибка форматирования даты:', e);\r\n        return dateStr;\r\n      }\r\n    },\r\n    // Форматирование количества воды в литрах\r\n    formatWaterAmount(amount) {\r\n      if (!amount || amount === 0) return '0 л';\r\n      return (Math.round(amount / 100) / 10).toFixed(1) + ' л';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.water-tracker {\r\n  padding: 2rem;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Основная карточка трекера воды */\r\n.water-card {\r\n  background-color: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  padding: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n/* Секция с информацией о воде */\r\n.info-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.date-control {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.water-info {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 2rem;\r\n}\r\n\r\n.water-stats {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  min-width: 300px;\r\n}\r\n\r\n.stat-item {\r\n  text-align: center;\r\n  flex: 1;\r\n}\r\n\r\n.stat-label {\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.stat-divider {\r\n  width: 1px;\r\n  background-color: #eee;\r\n  height: 50px;\r\n}\r\n\r\n.water-progress-container {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 200px;\r\n}\r\n\r\n.water-graphic {\r\n  width: 120px;\r\n  height: 200px;\r\n  border-radius: 60px;\r\n  border: 2px solid #3498db;\r\n  overflow: hidden;\r\n  background-color: #f5f5f5;\r\n  position: relative;\r\n  margin-right: 1.5rem;\r\n}\r\n\r\n.water-level {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #3498db;\r\n  transition: height 0.5s;\r\n  overflow: hidden;\r\n}\r\n\r\n.water-waves {\r\n  position: absolute;\r\n  top: -10px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 20px;\r\n  background: linear-gradient(\r\n    transparent,\r\n    rgba(255, 255, 255, 0.3),\r\n    transparent \r\n  );\r\n  animation: waveAnimation 2s infinite linear;\r\n}\r\n\r\n@keyframes waveAnimation {\r\n  0% { \r\n    transform: translateX(-50%); \r\n  }\r\n  100% { \r\n    transform: translateX(50%); \r\n  }\r\n}\r\n\r\n.progress-text {\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n  color: #3498db;\r\n}\r\n\r\n/* Секция добавления воды */\r\n.add-water-section {\r\n  padding-top: 1.5rem;\r\n  border-top: 1px solid #eee;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.section-title {\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1rem;\r\n  color: #333;\r\n}\r\n\r\n.quick-add-buttons {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.quick-add-button {\r\n  min-width: 100px;\r\n}\r\n\r\n.custom-amount {\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* История потребления воды */\r\n.water-history-section {\r\n  padding-top: 1.5rem;\r\n  border-top: 1px solid #eee;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.history-chart {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n  gap: 1rem;\r\n  height: 200px;\r\n  margin-top: 1.5rem;\r\n  position: relative;\r\n}\r\n\r\n.history-chart::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 40px;\r\n  height: 1px;\r\n  background-color: #e0e0e0;\r\n  z-index: 0;\r\n}\r\n\r\n.history-bar {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 50px;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.history-bar.current-day .history-day {\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.history-day {\r\n  font-size: 0.8rem;\r\n  color: #666;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.history-bar-container {\r\n  width: 30px;\r\n  height: 120px;\r\n  background-color: #f0f0f0;\r\n  border-radius: 15px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  border: 1px solid #d4e6f1;\r\n}\r\n\r\n.history-bar.current-day .history-bar-container {\r\n  border: 2px solid #3498db;\r\n  box-shadow: 0 0 8px rgba(52, 152, 219, 0.5);\r\n}\r\n\r\n.history-bar-fill {\r\n  position: absolute; \r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: #3498db;\r\n  transition: height 0.5s;\r\n  min-height: 5px;\r\n  overflow: hidden;\r\n  box-shadow: 0 -2px 4px rgba(52, 152, 219, 0.2);\r\n}\r\n\r\n.water-waves-small {\r\n  position: absolute;\r\n  top: -5px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 10px;\r\n  background: linear-gradient(\r\n    transparent,\r\n    rgba(255, 255, 255, 0.3),\r\n    transparent \r\n  );\r\n  animation: waveAnimationSmall 2.5s infinite linear;\r\n  opacity: 0.7;\r\n}\r\n\r\n@keyframes waveAnimationSmall {\r\n  0% { \r\n    transform: translateX(-60%); \r\n  }\r\n  100% { \r\n    transform: translateX(60%); \r\n  }\r\n}\r\n\r\n.history-amount {\r\n  font-size: 0.8rem;\r\n  color: #333;\r\n  margin-top: 0.5rem;\r\n  font-weight: 500;\r\n  min-height: 16px;\r\n}\r\n\r\n.history-amount.zero-amount {\r\n  color: #999;\r\n}\r\n\r\n.history-bar.current-day .history-amount {\r\n  font-weight: bold;\r\n  color: #3498db;\r\n}\r\n\r\n/* Советы по потреблению воды */\r\n.water-tips {\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.tips-title {\r\n  color:rgb(2, 78, 16);\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.tips-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 0.5rem;\r\n  padding-left: 1.5rem;\r\n}\r\n\r\n.tips-list li {\r\n  color:rgb(2, 78, 16);\r\n}\r\n\r\n/* Адаптивность */\r\n@media (max-width: 768px) {\r\n  .water-stats {\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .stat-divider {\r\n    width: 80%;\r\n    height: 1px;\r\n  }\r\n  \r\n  .water-info {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .water-progress-container {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  \r\n  .water-graphic {\r\n    margin-right: 0;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .history-chart {\r\n    overflow-x: auto;\r\n    padding-bottom: 1rem;\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n\r\n/* Стили для кнопок быстрого удаления */\r\n.quick-remove-buttons {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.quick-remove-button {\r\n  min-width: 100px;\r\n}\r\n\r\n/* Стили для кнопок быстрого удаления (сделать их белыми, как кнопки добавления) */\r\n.quick-remove-button.el-button {\r\n  background-color: white;\r\n  color: #606266;\r\n  border-color: #DCDFE6;\r\n}\r\n\r\n.quick-remove-button.el-button:hover {\r\n  color: #409EFF;\r\n  border-color: #c6e2ff;\r\n  background-color: #ecf5ff;\r\n}\r\n\r\n.quick-remove-button.el-button:disabled {\r\n  color: #C0C4CC;\r\n  cursor: not-allowed;\r\n  background-color: #FFF;\r\n  border-color: #EBEEF5;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}